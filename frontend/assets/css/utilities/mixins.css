/**
 * CSS Mixins and Utilities for Walmart Uganda
 * Reusable mixins for common patterns
 */

/* Flexbox Mixins */
@define-mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@define-mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@define-mixin flex-column {
    display: flex;
    flex-direction: column;
}

/* Button Mixins */
@define-mixin button-reset {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    font: inherit;
    color: inherit;
}

@define-mixin button-primary {
    @mixin button-reset;
    background: var(--primary-color);
    color: var(--white);
    padding: var(--space-3) var(--space-6);
    border-radius: var(--border-radius);
    font-weight: 600;
    transition: all var(--transition-fast);

    &:hover {
        background: var(--primary-dark);
        transform: translateY(-1px);
    }

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }
}

@define-mixin button-secondary {
    @mixin button-reset;
    background: var(--white);
    color: var(--primary-color);
    border: 2px solid var(--primary-color);
    padding: var(--space-3) var(--space-6);
    border-radius: var(--border-radius);
    font-weight: 600;
    transition: all var(--transition-fast);

    &:hover {
        background: var(--primary-color);
        color: var(--white);
    }
}

/* Text Mixins */
@define-mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@define-mixin text-multiline-truncate $lines {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Layout Mixins */
@define-mixin container {
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 0 var(--space-4);
}

@define-mixin grid-auto-fit $min-width {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax($min-width, 1fr));
    gap: var(--space-6);
}

@define-mixin grid-auto-fill $min-width {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax($min-width, 1fr));
    gap: var(--space-6);
}

/* Shadow Mixins */
@define-mixin shadow-sm {
    box-shadow: var(--shadow-sm);
}

@define-mixin shadow {
    box-shadow: var(--shadow);
}

@define-mixin shadow-md {
    box-shadow: var(--shadow-md);
}

@define-mixin shadow-lg {
    box-shadow: var(--shadow-lg);
}

@define-mixin shadow-xl {
    box-shadow: var(--shadow-xl);
}

/* Animation Mixins */
@define-mixin fade-in $duration: 0.3s {
    animation: fadeIn $duration ease-in-out;
}

@define-mixin slide-in $duration: 0.3s {
    animation: slideIn $duration ease-out;
}

@define-mixin scale-in $duration: 0.2s {
    animation: scaleIn $duration ease-out;
}

/* Responsive Mixins */
@define-mixin mobile {
    @media (max-width: 768px) {
        @content;
    }
}

@define-mixin tablet {
    @media (max-width: 1024px) {
        @content;
    }
}

@define-mixin desktop {
    @media (min-width: 1025px) {
        @content;
    }
}

/* Form Mixins */
@define-mixin form-input {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    border: 2px solid var(--gray-300);
    border-radius: var(--border-radius);
    font-size: var(--font-size-base);
    transition: all var(--transition-fast);
    background: var(--white);

    &:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(0, 113, 206, 0.1);
    }

    &.error {
        border-color: var(--danger-color);
    }
}

@define-mixin form-label {
    display: block;
    margin-bottom: var(--space-2);
    font-weight: 500;
    color: var(--gray-700);
}

/* Card Mixins */
@define-mixin card {
    background: var(--white);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    transition: all var(--transition-normal);
}

@define-mixin card-hover {
    @mixin card;

    &:hover {
        box-shadow: var(--shadow-lg);
        transform: translateY(-2px);
    }
}

/* Loading Mixins */
@define-mixin skeleton-loading {
    background: linear-gradient(90deg, var(--gray-200) 25%, var(--gray-300) 50%, var(--gray-200) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
}

@define-mixin loading-spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid var(--gray-300);
    border-radius: 50%;
    border-top-color: var(--primary-color);
    animation: spin 1s ease-in-out infinite;
}

/* Utility Classes using Mixins */
.flex-center { @mixin flex-center; }
.flex-between { @mixin flex-between; }
.flex-column { @mixin flex-column; }

.text-truncate { @mixin text-truncate; }
.text-truncate-2 { @mixin text-multiline-truncate 2; }
.text-truncate-3 { @mixin text-multiline-truncate 3; }

.btn-primary { @mixin button-primary; }
.btn-secondary { @mixin button-secondary; }

.card { @mixin card; }
.card-hover { @mixin card-hover; }

.shadow-sm { @mixin shadow-sm; }
.shadow { @mixin shadow; }
.shadow-md { @mixin shadow-md; }
.shadow-lg { @mixin shadow-lg; }
.shadow-xl { @mixin shadow-xl; }

.fade-in { @mixin fade-in; }
.slide-in { @mixin slide-in; }
.scale-in { @mixin scale-in; }

.skeleton { @mixin skeleton-loading; }
.loading-spinner { @mixin loading-spinner; }
